<div class="container-fluid "
  *ngIf="roles == 'user' || roles =='admin' || roles =='responsable' && iduser  else erreur">

  <a href="#" data-bs-target="#sidebar" data-bs-toggle="collapse" (click)="afficheMenuMobile()"><i
      class="bi bi-list py-2 p-1 " style="color:black;position:relative; top:2%; left:15%; font-size: 30px;"></i></a>
  <button (click)="deconnexion()" class="btn deconnexion btn-danger"> <i class="bi bi-power "></i> Deconnexion</button>
  <style>
    .deconnexion {
      position: relative;
      left: 80%;
    }

    @media only screen and (max-width: 475px) {
      .deconnexion {
        left: 50%;
      }
    }

    @media only screen and (min-width: 499px) and (max-width: 857px) {

      .deconnexion {
        left: 65%;
      }
    }
  </style>
  <div class="row flex-nowrap">
    <div class="col-auto px-2" *ngIf="menuBureau">
      <app-menu></app-menu>
    </div>
    <main class="col ps-md-2 pt-2  " style=" height: 100vh ;">
      <div class="container">

        <div class="row py-3">
          <div class="welcomeContainer py-2">
            <p class="display-6 text-center"> Bienvenue ! {{noms_users}}</p>
            <p class="text-center"> Sur la plateforme Orange Digital Center </p>
            <p class="text-center slogan"> #Innovation - #Technologie - #Invention</p>
          </div>
        </div>

        <div class="row cardContour">
          <div class="col-6 col-md-4">
            <div class="cardTop my-3 p-2">
              <!-- <i class="fa-solid fa-graduation-cap i iconsHaut text-center"></i> -->
              <img src="../../assets/icon/ion_town.png" alt="icon" class="iconSize">
              <p class="pContent1 text-center">{{totalSalleLibre}}</p>
              <p class="pContent2 text-center">Salles disponibles</p>
            </div>
          </div>
          <div class="col-6 col-md-4">
            <div class="cardTop my-3 p-2">
              <img src="../../assets/icon/ü¶Ü icon _Graduation Cap_.png" alt="icon" class="iconSize">
              <p class="pContent1 text-center">{{apprenantsTotal}}</p>
              <p class="pContent2 text-center">Apprenants</p>
            </div>
          </div>
          <div class="col-12 col-md-4">
            <div class="cardTop my-3 p-2">
              <img src="../../assets/icon/ü¶Ü icon _Chalkboard Teacher_.png" alt="icon" class="iconSize">
              <p class="pContent1 text-center">{{participantTotal}}</p>
              <p class="pContent2 text-center">Participants</p>
            </div>
          </div>
        </div>

        <div class="row cardContour my-3">
          <div class="col-12 col-md-8">
            <div class="statistique">
              <small>L'alignement vertical r√©presente le nombre d'activit√©s par mois </small>
              <canvas #barCanvas style="position: relative; height: 10vh; width: 10vw;"></canvas>
              <small>L'alignement horizontal r√©presente le nombre de mois dans l'ann√©e</small>
            </div>
          </div>
          <div class="col-12 col-md-4 row">
            <div class="col-md-2 col-2">
              <div class="bar d-flex">
                <div class="bar0"></div>
                <div class="bar1"></div>
                <div class="bar2"></div>
                <div class="bar3"></div>
              </div>
            </div>
            <div class="events col-md-10 col-10">
              <div class="itemsevents">
                <div class="iconseventsTalk">
                  <i class="bi bi-chat"></i>
                </div>
                <div class="textevents">
                  <p class="eventTitle">Talks</p>
                  <p class="eventNumberTalk">{{nombreTalks}}</p>
                </div>
              </div>
              <div class="itemsevents">
                <div class="iconseventsEvent">
                  <i class="bi bi-calendar-event-fill"></i>
                </div>
                <div class="textevents">
                  <p class="eventTitle">Ev√©nements</p>
                  <p class="eventNumberEvent">{{nombreEvenements}}</p>
                </div>
              </div>
              <div class="itemsevents">
                <div class="iconseventsForm">
                  <i class="bi bi-code-square"></i>
                </div>
                <div class="textevents">
                  <p class="eventTitle">Formation</p>
                  <p class="eventNumberForm">{{nombreFormation}}</p>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row cardContour">
          <div class="col-12 col-md-8">
            <div class="cardContour my-3 py-2">
              <h1 class="h3 text-center pt-3 display-5">Activit√©s Encours</h1>
              <div class="trait"></div>
              <p class="text-center">Merci de visionner nos activit√©s encours</p>

              <div class="row py-3 ps-3 ContourArticle m-3" *ngFor="let activites of activiteRecent">
                <div class="col-12 col-md-6 p-2">
                  <img src="../../assets/images/{{activites[5]}}" alt="image de formation " class="img-fluid rounded">
                </div>
                <div class="col-12 col-md-6">
                  <div class="me-3">
                    <h1 class="h5"><b>{{activites[0]}}</b></h1>
                    <p class="textArticle">
                      {{activites[1]}}
                    </p>
                    <p class="autorArticle"><i class="bi bi-person-fill"></i> Cr√©er par : {{activites[2]}}
                      {{activites[3]}} </p>
                    <a [routerLink]="['/detail-activite',activites[4]   ]"> <button class="btn btnReadMore">Voir
                        Plus</button> </a>
                  </div>
                </div>
              </div>


            </div>
          </div>


          <div class="col-12 col-md-4 py-3">
            <div class="row cardContour me-2">
              <div class="me-3">
                <h1 class="h4 text-center pt-3 display-6">Activit√©s √† venir</h1>
                <div class="trait mb-4"></div>

                <div class="ContourArticle py-2 m-2" *ngFor="let activites of activiteAVenir">
                  <div class="col-12 col-md-12 p-3">
                    <img src="../../assets/images/{{activites[5]}}" alt="image de formation " class="img-fluid rounded">

                  </div>
                  <div class="col-12 col-md-12">
                    <div class="me-2">
                      <h1 class="h5 text-center pt-1"><b>{{activites[0]}}</b></h1>
                      <p class="textArticle">
                        {{activites[1]}} </p>
                      <p class="autorArticle"><i class="bi bi-person-fill"></i> Cr√©er par : {{activites[2]}}
                        {{activites[3]}} </p>
                      <button class="btn btnReadMore" routerLink="/detail-activite/{{activites[4]}}">Voir Plus </button>
                    </div>
                  </div>
                </div>


              </div>

            </div>
          </div>
        </div>

        <!-- Footer -->
        <footer class="footer mt-3 mb-3">
          <p class="text-center">&copy; 2022 | Tous droits r√©serv√©s <span style="color:#FF6600;">Orange</span> Digital
            Center</p>
        </footer>
        <style>
          footer {
            padding: 25px;
            background: #202020;
            color: #FFFFFF;
          }
        </style>
        <!-- Footer -->

      </div>
    </main>
  </div>
</div>

<!-- ====================================== Session ================================== -->
<ng-template #erreur id="#erreur">
  <div class="img" align="center">
    <div class="">
      <img src="../../assets/images/errors.jpg" width="30%">
    </div>
    <div>
      <button style="font-size:20px;">Veuillez vous <a href="authentification" class=" btn">connecter</a></button>
      <style>
        .img button a:hover {
          background-color: black;
          border: 2px solid #ff6600;
          box-shadow: 1px 1px 5px rgba(0, 0, 0, 0.8);
          color: white;
        }

        .img button a {
          background-color: #ff6600;
          text-decoration: none;
        }
      </style>
    </div>
  </div>
</ng-template>